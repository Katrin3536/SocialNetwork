"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[541],{1541:function(t,s,r){r.r(s),r.d(s,{default:function(){return G}});var e=r(5671),n=r(3144),o=r(136),i=r(5716),u=r(2791),a="ProfileInfo_descriptionBlock__2XdJx",c="ProfileInfo_picture__E5rTG",d=r(9770),l=r(8388),p=r(885),f=r(184),h=function(t){var s=(0,u.useState)(!1),r=(0,p.Z)(s,2),e=r[0],n=r[1],o=(0,u.useState)(t.status),i=(0,p.Z)(o,2),a=i[0],c=i[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!e&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"-----"})}),e&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},onBlur:function(){n(!1),t.updateStatus(a)},autoFocus:!0,value:a})})]})},m=function(t){var s=t.profile,r=t.status,e=t.updateStatus;return s?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{children:[(0,f.jsx)("img",{className:c,src:d}),(0,f.jsx)("div",{className:a,children:(0,f.jsx)("img",{src:s.photos.large})}),(0,f.jsx)(h,{status:r,updateStatus:e})]})}):(0,f.jsx)(l.p,{})},x="MyPosts_postsBlock__3e4Ds",j="MyPosts_posts__6EdvY",v="Post_item__+LDvX",_="Post_posts__KH5L1",g=r(8986),P=function(t){return(0,f.jsx)("div",{className:_,children:(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("img",{src:g}),t.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["Like",t.likeCount]})}),(0,f.jsx)("button",{onClick:t.deletePost,children:"Delete post"})]})})},C=r(3079),Z=r(2381),S=r(6139),b=r(704),k=r(3592),y=r(8687),N=(0,C.D)(30),D=(0,b.Z)({form:"profileAddNewPostForm"})((function(t){var s=(0,y.I0)();return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(S.Z,{name:"newPostText",component:k.g,validate:[C.C,N],placeholder:"Post message",onClick:function(){return s((0,Z.mc)("profileAddNewPostForm"))}})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),w=u.memo((function(t){var s=t.postData.map((function(s){return(0,f.jsx)(P,{message:s.message,likeCount:s.likeCount,deletePost:function(){return t.deletePost(s.id)}},s.id)}));return(0,f.jsxs)("div",{className:x,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(D,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,f.jsx)("div",{className:j,children:s})]})})),E=r(4136),F=r(7781),M=(0,F.qC)((0,y.$j)((function(t){return{postData:t.profilePage.postData}}),(function(t){return{addPost:function(s){t((0,E.Wl)(s))},deletePost:function(s){t((0,E.fu)(s))}}})))(w),A=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(M,{})]})},I=r(9271),B=function(t){return t.profilePage.profile},L=function(t){return t.profilePage.status},T=function(t){return t.auth.id},q=function(t){return t.auth.isAuth},$=function(t){(0,o.Z)(r,t);var s=(0,i.Z)(r);function r(){return(0,e.Z)(this,r),s.apply(this,arguments)}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var t=+this.props.match.params.userId;t||(t=this.props.id)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.setStatus(t)}},{key:"render",value:function(){return this.props.profile?(0,f.jsx)("div",{children:(0,f.jsx)(A,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}):(0,f.jsx)(l.p,{})}}]),r}(u.Component),G=(0,F.qC)((0,y.$j)((function(t){return{profile:B(t),status:L(t),id:T(t),isAuth:q(t)}}),{getUserProfile:E.d$,setStatus:E.jQ,updateStatus:E.OG}),I.EN)($)},3592:function(t,s,r){r.d(s,{g:function(){return c},I:function(){return d}});var e=r(1413),n=r(5987),o=(r(2791),r(6059)),i=r(184),u=["input","meta"],a=["input","meta"],c=function(t){var s=t.input,r=t.meta,a=(0,n.Z)(t,u),c=r.touched&&r.error;return(0,i.jsxs)("div",{className:o.Z.formControl+" "+(c?o.Z.error:""),children:[(0,i.jsx)("div",{children:(0,i.jsx)("textarea",(0,e.Z)((0,e.Z)({},s),a))}),c&&(0,i.jsx)("span",{children:r.error})]})},d=function(t){var s=t.input,r=t.meta,u=(0,n.Z)(t,a),c=r.touched&&r.error;return(0,i.jsxs)("div",{className:o.Z.formControl+" "+(c?o.Z.error:""),children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",(0,e.Z)((0,e.Z)({},s),u))}),c&&(0,i.jsx)("span",{children:r.error})]})}},3079:function(t,s,r){r.d(s,{C:function(){return e},D:function(){return n}});var e=function(t){if(!t)return"Field is required"},n=function(t){return function(s){if(s.length>t)return"Max length is ".concat(t," symbols")}}},6059:function(t,s){s.Z={formControl:"FormsControls_formControl__2E-M1",error:"FormsControls_error__OxiLB",formSummaryError:"FormsControls_formSummaryError__gypjP"}},9770:function(t,s,r){t.exports=r.p+"static/media/Cappadocia_2.a9de05dec6fdb2947bfb.jpg"},8986:function(t,s,r){t.exports=r.p+"static/media/cat.635a9fb09bf4880b1132.jpg"}}]);
//# sourceMappingURL=541.ef9e9105.chunk.js.map